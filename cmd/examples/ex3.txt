/* Send a label to make a choice. 
   Issue: The body of process pid2 becomes messy quickly.
*/

let
in
    prc[pid1]: self.label_ok<pid3>
    prc[pid2]: case pid1 (  label_ok<cont_pid>      => wait cont_pid; close self
                          | label_not_ok<cont_pid> => close self  )
    prc[pid3]: close self
end
